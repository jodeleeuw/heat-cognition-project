<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HotCog Demo</title>
    
    <script src="https://unpkg.com/jspsych@8"></script>
    
    <script src="https://unpkg.com/@jspsych/plugin-survey-likert@2.1.0"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-survey-slider"></script>
    <link rel="stylesheet" href="https://unpkg.com/jspsych@8.2.2/css/jspsych.css" />
    <script src="https://unpkg.com/@jspsych/plugin-survey@3.0.0"></script>
    <link rel="stylesheet" href="https://unpkg.com/@jspsych/plugin-survey@3.0.0/css/survey.min.css">
    <script src="plugin-survey-vert-slider.js"></script>
    <script src="plugin-survey-svo.js"></script>
    <script src="survey-text.js"></script>
    <style>
        .hotcog-containers {
            padding: 16px;
        }
    </style>
</head>
<body>
    <script>
        const jsPsych = initJsPsych({
            on_finish: function() {
                jsPsych.data.displayData();
            }
        });

        let timeline = [];

        const who5_questions = [
            { prompt: WHO5_PROMPTS.WHO1, name: "A-WHO1", labels: WHO5_SCALE, required: true },
            { prompt: WHO5_PROMPTS.WHO2, name: "A-WHO2", labels: WHO5_SCALE, required: true },
            { prompt: WHO5_PROMPTS.WHO3, name: "A-WHO3", labels: WHO5_SCALE, required: true },
            { prompt: WHO5_PROMPTS.WHO4, name: "A-WHO4", labels: WHO5_SCALE, required: true },
            { prompt: WHO5_PROMPTS.WHO5, name: "A-WHO5", labels: WHO5_SCALE, required: true }
        ]
        const who5_trial = {
            type: jsPsychSurveyLikert,
            questions: who5_questions,
            preamble: WHO5_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(who5_trial);

        const phq4_questions = [
            { prompt: PHQ4_PROMPTS.PHQ1, name: "A-PHQ1", labels: PHQ4_SCALE, required: true },
            { prompt: PHQ4_PROMPTS.PHQ2, name: "A-PHQ2", labels: PHQ4_SCALE, required: true },
            { prompt: PHQ4_PROMPTS.PHQ3, name: "A-PHQ3", labels: PHQ4_SCALE, required: true },
            { prompt: PHQ4_PROMPTS.PHQ4, name: "A-PHQ4", labels: PHQ4_SCALE, required: true }
        ]
        const phq4_trial = {
            type: jsPsychSurveyLikert,
            questions: phq4_questions,
            preamble: PHQ4_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(phq4_trial);

        const vams_questions = [
            { prompt: VAMS_PROMPTS.VA1, name: "M-VA1", labels: VAMS_LABELS, min: 0, max: 100, step: 1, slider_start: 0 },
            { prompt: VAMS_PROMPTS.VA2, name: "M-VA2", labels: VAMS_LABELS, min: 0, max: 100, step: 1, slider_start: 0 },
            { prompt: VAMS_PROMPTS.VA3, name: "M-VA3", labels: VAMS_LABELS, min: 0, max: 100, step: 1, slider_start: 0 },
            { prompt: VAMS_PROMPTS.VAMS4, name: "M-VAMS4", labels: VAMS_LABELS, min: 0, max: 100, step: 1, slider_start: 0 },
            { prompt: VAMS_PROMPTS.VA5, name: "M-VA5", labels: VAMS_LABELS, min: 0, max: 100, step: 1, slider_start: 0 },
            { prompt: VAMS_PROMPTS.VA6, name: "M-VA6", labels: VAMS_LABELS, min: 0, max: 100, step: 1, slider_start: 0 },
        ]
        const vams_trial = {
            type: jsPsychSurveyVertSlider,
            questions: vams_questions,
            preamble: VAMS_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(vams_trial);

        const bpaq_questions = [
            { prompt: BPAQ_PROMPTS.BP1, name: "M-BP1", labels: BPAQ_SCALE, required: true },
            { prompt: BPAQ_PROMPTS.BP3, name: "M-BP3", labels: BPAQ_SCALE, required: true },
            { prompt: BPAQ_PROMPTS.BP4, name: "M-BP4", labels: BPAQ_SCALE, required: true },
            { prompt: BPAQ_PROMPTS.BP5, name: "M-BP5", labels: BPAQ_SCALE, required: true },
            { prompt: BPAQ_PROMPTS.BP6, name: "M-BP6", labels: BPAQ_SCALE, required: true },
            { prompt: BPAQ_PROMPTS.BP7, name: "M-BP7", labels: BPAQ_SCALE, required: true },
            { prompt: BPAQ_PROMPTS.BP8, name: "M-BP8", labels: BPAQ_SCALE, required: true },
            { prompt: BPAQ_PROMPTS.BP9, name: "M-BP9", labels: BPAQ_SCALE, required: true },
        ];
        const bpaq_trial = {
            type: jsPsychSurveyLikert,
            questions: bpaq_questions,
            preamble: BPAQ_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(bpaq_trial);

        const ac_questions = [
            { prompt: AC_PROMPTS.AC1, name: "M-AC1", labels: AC_SCALE, required: true },
            { prompt: AC_PROMPTS.AC2, name: "M-AC2", labels: AC_SCALE, required: true },
            { prompt: AC_PROMPTS.AC3, name: "M-AC3", labels: AC_SCALE, required: true },
            { prompt: AC_PROMPTS.AC4, name: "M-AC4", labels: AC_SCALE, required: true },
        ]
        const ac_trial = {
            type: jsPsychSurveyLikert,
            questions: ac_questions,
            preamble: AC_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(ac_trial);

        const svo_questions = [
            {
                self_values: [85, 85, 85, 85, 85, 85, 85, 85, 85],
                other_values: [85, 76, 68, 59, 50, 41, 33, 24, 15],
                self_label: SVO_SELF_LABEL,
                other_label: SVO_OTHER_LABEL,
                name: "M-SVOT1",
            },
            {
                self_values: [85, 87, 89, 91, 93, 94, 96, 98, 100],
                other_values: [15, 19, 24, 28, 33, 37, 41, 46, 50],
                self_label: SVO_SELF_LABEL,
                other_label: SVO_OTHER_LABEL,
                name: "M-SVOT2",
            },
            {
                self_values: [50, 54, 59, 63, 68, 72, 76, 81, 85],
                other_values: [100, 98, 96, 94, 93, 91, 89, 87, 85],
                self_label: SVO_SELF_LABEL,
                other_label: SVO_OTHER_LABEL,
                name: "M-SVOT3",
            },
            {
                self_values: [50, 54, 59, 63, 68, 72, 76, 81, 85],
                other_values: [100, 89, 79, 68, 58, 47, 36, 26, 15],
                self_label: SVO_SELF_LABEL,
                other_label: SVO_OTHER_LABEL,
                name: "M-SVOT4",
            },
            {
                self_values: [100, 94, 88, 81, 75, 69, 63, 56, 50],
                other_values: [50, 56, 63, 69, 75, 81, 88, 94, 100],
                self_label: SVO_SELF_LABEL,
                other_label: SVO_OTHER_LABEL,
                name: "M-SVOT5",
            },
            {
                self_values: [100, 98, 96, 94, 93, 91, 89, 87, 85],
                other_values: [50, 54, 59, 63, 68, 72, 76, 81, 85],
                self_label: SVO_SELF_LABEL,
                other_label: SVO_OTHER_LABEL,
                name: "M-SVOT6",
            }
        ]
        const svo_trial = {
            type: jsPsychSurveySvo,
            questions: svo_questions,
            preamble: SVO_PREAMBLE,
            require_selection: true,
            button_label: SVO_BUTTON_LABEL,
            css_classes: ['hotcog-containers']
        };
        timeline.push(svo_trial);


        const tic_questions = [
            { prompt: TIC_PROMPTS.TIC1, name: "A-TIC1", labels: TIC_SCALE, required: true },
            { prompt: TIC_PROMPTS.TIC2, name: "A-TIC2", labels: TIC_SCALE, required: true },
            { prompt: TIC_PROMPTS.TIC3, name: "A-TIC3", labels: TIC_SCALE, required: true },
            { prompt: TIC_PROMPTS.TIC4, name: "A-TIC4", labels: TIC_SCALE, required: true },
            { prompt: TIC_PROMPTS.TIC5, name: "A-TIC5", labels: TIC_SCALE, required: true },
            { prompt: TIC_PROMPTS.TIC6, name: "A-TIC6", labels: TIC_SCALE, required: true }
        ]
        const tic_trial = {
            type: jsPsychSurveyLikert,
            questions: tic_questions,
            preamble: TIC_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(tic_trial);

        const cce_questions = [
            { prompt: CCE_PROMPTS.CCE1, name: "M-CCE1", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE2, name: "M-CCE2", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE3, name: "M-CCE3", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE4, name: "M-CCE4", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE5, name: "M-CCE5", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE6, name: "M-CCE6", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE7, name: "M-CCE7", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE8, name: "M-CCE8", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE9, name: "M-CCE9", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE10, name: "M-CCE10", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE11, name: "M-CCE11", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE12, name: "M-CCE12", labels: CCE_SCALE, required: true },
            { prompt: CCE_PROMPTS.CCE13, name: "M-CCE13", labels: CCE_SCALE, required: true }
        ]
        const cce_trial = {
            type: jsPsychSurveyLikert,
            questions: cce_questions,
            preamble: CCE_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(cce_trial);

        const ccj_questions = [
            { prompt: CCJ_PROMPTS.CCJ1, name: "M-CCJ1", labels: CCJ_SCALE, required: true },
            { prompt: CCJ_PROMPTS.CCJ2, name: "M-CCJ2", labels: CCJ_SCALE, required: true },
            { prompt: CCJ_PROMPTS.CCJ3, name: "M-CCJ3", labels: CCJ_SCALE, required: true },
            { prompt: CCJ_PROMPTS.CCJ4, name: "M-CCJ4", labels: CCJ_SCALE, required: true },
            { prompt: CCJ_PROMPTS.CCJ5, name: "M-CCJ5", labels: CCJ_SCALE, required: true },
            { prompt: CCJ_PROMPTS.CCJ6, name: "M-CCJ6", labels: CCJ_SCALE, required: true }
        ]
        const ccj_trial = {
            type: jsPsychSurveyLikert,
            questions: ccj_questions,
            preamble: CCJ_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(ccj_trial);

        const cca_questions = [
            { prompt: CCA_PROMPTS.CCA1, name: "M-CCA1", labels: CCA_SCALE, required: true },
            { prompt: CCA_PROMPTS.CCA2, name: "M-CCA2", labels: CCA_SCALE, required: true },
            { prompt: CCA_PROMPTS.CCA3, name: "M-CCA3", labels: CCA_SCALE, required: true },
            { prompt: CCA_PROMPTS.CCA4, name: "M-CCA4", labels: CCA_SCALE, required: true },
            { prompt: CCA_PROMPTS.CCA5, name: "M-CCA5", labels: CCA_SCALE, required: true },
            { prompt: CCA_PROMPTS.CCA6, name: "M-CCA6", labels: CCA_SCALE, required: true },
            { prompt: CCA_PROMPTS.CCA7, name: "M-CCA7", labels: CCA_SCALE, required: true }
        ]
        const cca_trial = {
            type: jsPsychSurveyLikert,
            questions: cca_questions,
            preamble: CCA_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(cca_trial);

        const ccb_questions = [
            { prompt: CCB_PROMPTS.CCB1, name: "M-CCB1", labels: CCB_SCALE, required: true },
            { prompt: CCB_PROMPTS.CCB2, name: "M-CCB2", labels: CCB_SCALE, required: true },
            { prompt: CCB_PROMPTS.CCB3, name: "M-CCB3", labels: CCB_SCALE, required: true },
            { prompt: CCB_PROMPTS.CCB4, name: "M-CCB4", labels: CCB_SCALE, required: true }
        ]
        const ccb_trial = {
            type: jsPsychSurveyLikert,
            questions: ccb_questions,
            preamble: CCB_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(ccb_trial);

        const ts_questions = [
            {
                prompt: TS_PROMPTS.TS1.prompt,
                name: "A-TS1",
                labels: TS_PROMPTS.TS1.labels,
                required: true,
            },
            {
                prompt: TS_PROMPTS.TS2.prompt,
                name: "A-TS2",
                labels: TS_PROMPTS.TS2.labels,
                required: true,
            }
        ]
        const ts_trial = {
            type: jsPsychSurveyLikert,
            questions: ts_questions,
            css_classes: ['hotcog-containers']
        }
        timeline.push(ts_trial);

        const sta_questions = [
            { prompt: STA_PROMPTS.STA1, name: "A-STA1", labels: STA_SCALE, required: true },
            { prompt: STA_PROMPTS.STA2, name: "A-STA2", labels: STA_SCALE, required: true },
            { prompt: STA_PROMPTS.STA3, name: "A-STA3", labels: STA_SCALE, required: true },
            { prompt: STA_PROMPTS.STA4, name: "A-STA4", labels: STA_SCALE, required: true },
            { prompt: STA_PROMPTS.STA5, name: "A-STA5", labels: STA_SCALE, required: true },
            { prompt: STA_PROMPTS.STA6, name: "A-STA6", labels: STA_SCALE, required: true },
            { prompt: STA_PROMPTS.STA7, name: "A-STA7", labels: STA_SCALE, required: true }
        ]
        const sta_trial = {
            type: jsPsychSurveyLikert,
            questions: sta_questions,
            preamble: STA_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(sta_trial);
        
        const sl_questions = [
            { prompt: SL_PROMPTS.SL1, name: "A-SL1", labels: SL_SCALE, required: true },
            { prompt: SL_PROMPTS.SL2, name: "A-SL2", labels: SL_SCALE, required: true },
            { prompt: SL_PROMPTS.SL3, name: "A-SL3", labels: SL_SCALE, required: true },
            { prompt: SL_PROMPTS.SL4, name: "A-SL4", labels: SL_SCALE, required: true }
        ]
        const sl_trial = {
            type: jsPsychSurveyLikert,
            questions: sl_questions,
            preamble: SL_PREAMBLE,
            css_classes: ['hotcog-containers']
        }
        timeline.push(sl_trial);

        const de_json = {
            elements: [{
                name: "A-DE1",
                type: "text",
                title: DE_AGE_TITLE,
                inputType: "number",
                min: 18,
                max: 100,
                defaultValue: 0,
                isRequired: true
            }, {
                name: "A-DE2",
                type: "radiogroup",
                title: DE_GENDER_TITLE,
                isRequired: true,
                choices: DE_GENDER_CHOICES,
                colCount: 1,
            }, {
                name: "A-DE6",
                type: "radiogroup",
                title: DE_EDUCATION_TITLE,
                isRequired: true,
                choices: DE_EDUCATION_CHOICES,
                colCount: 1
            }, {
                type: "html",
                html: DE_POLITICAL_HTML
            }, {
                name: "A-DE7",
                type: "slider",
                title: DE_POLITICAL_SOCIAL_TITLE,
                min: 0,
                max: 100,
                step: 1,
                defaultValue: 50,
                customLabels: [
                    { value: 0, label: DE_POLITICAL_LABELS[0] },
                    { value: 50, label: DE_POLITICAL_LABELS[50] },
                    { value: 100, label: DE_POLITICAL_LABELS[100] }
                ]
            }, {
                name: "A-DE7a",
                type: "checkbox",
                title: " ",
                choices: [DE_PREFER_NOT_TO_SAY],
            }, {
                name: "A-DE8",
                type: "slider",
                title: DE_POLITICAL_ECONOMIC_TITLE,
                min: 0,
                max: 100,
                step: 1,
                defaultValue: 50,
                customLabels: [
                    { value: 0, label: DE_POLITICAL_LABELS[0] },
                    { value: 50, label: DE_POLITICAL_LABELS[50] },
                    { value: 100, label: DE_POLITICAL_LABELS[100] }
                ]
            }, {
                name: "A-DE8a",
                type: "checkbox",
                title: " ",
                choices: [DE_PREFER_NOT_TO_SAY],
            },{
                name: "Comments Box",
                type: "comment",
                title: DE_COMMENTS_TITLE
            }
        ]};
        const de_trial = {
            type: jsPsychSurvey,
            survey_json: de_json,
            button_label: DE_BUTTON_LABEL,
            on_finish: function (data) {
                if (data.response["A-DE7a"] && data.response["A-DE7a"].includes(DE_PREFER_NOT_TO_SAY)) {
                    data.response["A-DE7"] = -99;
                    delete data.response["A-DE7a"];
                }
                if (data.response["A-DE8a"] && data.response["A-DE8a"].includes(DE_PREFER_NOT_TO_SAY)) {
                    data.response["A-DE8"] = -99;
                    delete data.response["A-DE8a"];
                }
            }
        };
        timeline.push(de_trial);

        jsPsych.run(timeline);
    </script>
</body>
</html>
